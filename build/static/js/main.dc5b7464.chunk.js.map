{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","filter","handleFilterChange","value","onChange","PersonForm","newName","handleNameChange","newNumber","handleNumberChange","addPerson","onSubmit","type","Person","person","removePerson","name","number","onClick","Persons","persons","visiblePersons","length","lowerCaseName","toLowerCase","lowerCaseFilter","includes","map","key","id","baseUrl","axios","get","then","response","data","newPerson","post","resourceURL","delete","put","Notification","notification","message","notificationType","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setNotification","useEffect","personService","initialPersons","showNotification","console","log","setTimeout","event","target","newname","preventDefault","existingPerson","find","undefined","window","confirm","updatedPerson","returnedPerson","catch","error","concat","personName","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dc5b7464.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n  const {filter, handleFilterChange} = props\r\n\r\n  return (\r\n    <div>\r\n      Filter names with&nbsp;\r\n      <input\r\n        value={filter}\r\n        onChange={handleFilterChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  const {newName, handleNameChange, newNumber, handleNumberChange, addPerson} = props\r\n\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        Name:&nbsp;\r\n        <input \r\n          value={newName} \r\n          onChange={handleNameChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        Number:&nbsp;\r\n        <input\r\n          value={newNumber}\r\n          onChange={handleNumberChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">Add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = (props) => {\r\n  const {person, removePerson} = props\r\n\r\n  return (\r\n    <li>\r\n      {person.name} {person.number} \r\n      <button onClick={removePerson}>Delete</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = (props) => {\r\n  const { persons, filter, removePerson } = props\r\n  const visiblePersons = (filter.length === 0)\r\n    ? persons\r\n    : persons.filter(person => {\r\n      const lowerCaseName = person.name.toLowerCase()\r\n      const lowerCaseFilter = filter.toLowerCase()\r\n      return (\r\n        lowerCaseName.includes(lowerCaseFilter)\r\n      )\r\n    })\r\n\r\n  return (\r\n    <ul>\r\n      {visiblePersons.map(person =>\r\n        <Person\r\n          key={person.name}\r\n          person={person}\r\n          removePerson={() => removePerson(person.id)}\r\n        />\r\n      )}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n  const request = axios.post(baseUrl, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const resourceURL = `${baseUrl}/${id}`\r\n  return axios.delete(resourceURL)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n  const resourceURL = `${baseUrl}/${id}`\r\n  const request = axios.put(resourceURL, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification.message === null) {\r\n    return null\r\n  }\r\n\r\n  const notificationType = (notification.type) ? notification.type : 'info'\r\n\r\n  return (\r\n    <div className={notificationType}>\r\n      {notification.message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState({ message: null })\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const showNotification = (message, type) => {\n    console.log('showNotification fired ', message, type)\n    const notificationToShow = { message, type }\n    setNotification(notificationToShow)\n    setTimeout(() => {\n      setNotification({ message: null })\n    }, 8000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const existingPerson = persons.find(person => person.name === newName)\n\n    if (existingPerson !== undefined) {\n      const confirm = window.confirm(`${existingPerson.name} is already added to the phonebook, replace the old number with a new one?`)\n      if (confirm) {\n        const updatedPerson = { ...existingPerson, number: newNumber }\n        personService\n          .update(existingPerson.id, updatedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => (person.id !== existingPerson.id)\n              ? person\n              : returnedPerson))\n            showNotification(`Updated phone number for ${existingPerson.name}`)\n          })\n          .catch(error => {\n            setPersons(persons.filter(person => person.id !== existingPerson.id))\n            showNotification(`${existingPerson.name} was already deleted from server so unable to update, removing from list`, 'error')\n          })\n      }\n    } else {\n      const newPerson = { name: newName, number: newNumber }\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          showNotification(`Added ${returnedPerson.name}`)\n        })\n    }\n  }\n\n  const removePerson = (id) => {\n    const personName = persons.find(person => person.id === id).name\n    const confirm = window.confirm(`Really delete ${personName}?`)\n    if (confirm) {\n      personService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          showNotification(`Deleted ${personName}`)\n        })\n        .catch(error => {\n          setPersons(persons.filter(person => person.id !== id))\n          showNotification(`${personName} was already deleted from server, removing from list`, 'error')\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setFilter(event.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        notification={notification}\n      />\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      <h2>Add new data</h2>\n      <PersonForm\n        newname={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        filter={filter}\n        removePerson={removePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}